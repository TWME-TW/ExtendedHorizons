########################################################
#                                                      #
#         ExtendedHorizons V2 Configuration            #
#                                                      #
#          Support the project starring it!            #
#     https://github.com/Mapacheee/ExtendedHorizons    #
#                                                      #
#   Join our Discord:  https://discord.gg/yA3vD2S8Zj   #
#                                                      #
########################################################

# Global view distance limits and defaults
# Note: The minimum distance is automatically set to the server's view-distance from server.properties
view-distance:
  max-distance: 64
  default-distance: 32

# Per-world settings (optional)
# If a world is not listed here, it will use the global settings above
# You can configure each world independently
world-settings:
  # Example: Limit view distance in the Nether
  # world_nether:
  #   enabled: true           # Enable/disable fake chunks for this world
  #   max-distance: 32        # Maximum view distance for this world
  
  # Example: Disable fake chunks in the End
  # world_the_end:
  #   enabled: false
  #   max-distance: 64

# Performance settings
performance:
  # Number of threads for parallel chunk processing (0 = auto-detect based on CPU cores)
  # Recommended: 0 (auto) or 4-8 for most servers
  chunk-processor-threads: 0
  
  # Teleport warmup delay in milliseconds to load fake chunks
  teleport-warmup-delay: 1600 # in milliseconds

  # Fake chunks system (packets cache)
  fake-chunks:
    # Enable packet cache system
    enabled: true
    # Maximum cached packets (5000 = ~150MB)
    max-cached-packets: 5000
    # Enable GZIP compression for packets (slower but saves RAM)
    use-compression: false
    # Cache cleanup interval in seconds
    cache-cleanup-interval: 10
    # Enable chunk memory cache (reuses loaded chunks, saves CPU but uses RAM)
    # Recommended: true for <50 players, false for >100 players or low RAM servers
    enable-memory-cache: false
    # Maximum chunks to cache in memory (1000 = ~40-80MB depending on chunk complexity)
    # Increase for more players in same area, decrease for dispersed players or low RAM
    max-memory-cache-size: 1000
  
  occlusion-culling:
    enabled: true
    sky-light-threshold: 14
    max-y-level: 320
    min-y-level: -64

# Bandwidth Saver settings
bandwidth-saver:
  enabled: true
  # Skips redundant entity movement/rotation packets (ESU-inspired)
  skip-redundant-packets: true
  # Limits the rate of fake chunk sending to prevent network saturation
  max-fake-chunks-per-tick: 22
  # Maximum bandwidth per player in KB/s (512 KB/s = ~4 Mbps)
  # Set to 0 to disable bandwidth limiting
  max-bandwidth-per-player: 512
  # Enable adaptive rate limiting based on player ping
  # Reduces packet rate for high-ping players to prevent packet loss
  adaptive-rate-limiting: true

# Database (SQLite) used for player view persistence
database:
  enabled: true
  file-name: "extendedhorizons"

integrations:
  placeholderapi:
    enabled: true
  luckperms:
    enabled: true
    check-interval: 60 # seconds
    use-group-permissions: true

# Message toggles (actual texts live in messages.yml)
messages:
  welcome-message:
    enabled: false